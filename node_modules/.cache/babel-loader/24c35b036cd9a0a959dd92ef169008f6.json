{"ast":null,"code":"var _jsxFileName = \"D:\\\\test\\\\Decentralized-Crypto-Casino\\\\src\\\\App.js\",\n    _s = $RefreshSig$();\n\nimport './App.css';\nimport React, { useEffect } from 'react';\nimport { ethers } from 'ethers';\nimport { Grid } from '@mui/material';\nimport contractsService from './services/contractsService';\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { loadAccounts } from './reducers/accountReducer';\nimport { loadBalance } from './reducers/balanceReducer';\nimport { loadPrice } from './reducers/priceReducer';\nimport { loadHistorial } from './reducers/historialReducer';\nimport BuyTokens from './components/BuyTokens';\nimport WithdrawTokens from './components/Withdraw';\nimport Header from './components/Header';\nimport { Routes, Route } from \"react-router-dom\";\nimport RouletteGame from './components/RouletteGame';\nimport Wallet from './components/Wallet';\nimport Games from './components/Games';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst App = () => {\n  _s();\n\n  const dispatch = useDispatch();\n  const balance = useSelector(_ref => {\n    let {\n      balance\n    } = _ref;\n    return balance;\n  });\n  const account = useSelector(_ref2 => {\n    let {\n      account\n    } = _ref2;\n    return account;\n  });\n  const price = useSelector(_ref3 => {\n    let {\n      price\n    } = _ref3;\n    return price;\n  });\n\n  const web3Handler = async () => {\n    const accounts = await window.ethereum.request({\n      method: 'eth_requestAccounts'\n    });\n    dispatch(loadAccounts(accounts[0]));\n    const provider = new ethers.providers.Web3Provider(window.ethereum);\n    const signer = provider.getSigner();\n    window.ethereum.on('chainChanged', chainId => {\n      window.location.reload();\n    });\n    window.ethereum.on('accountsChanged', async function (accounts) {\n      dispatch(loadAccounts(accounts[0]));\n      await web3Handler();\n    });\n    await contractsService.loadContracts(signer);\n  };\n\n  const loadInfo = async () => {\n    if (account !== \"\") {\n      await dispatch(loadBalance(account));\n      await dispatch(loadPrice(account));\n      await dispatch(loadHistorial(account));\n    }\n  };\n\n  useEffect(() => {\n    loadInfo();\n  }, [account]);\n  return /*#__PURE__*/_jsxDEV(Grid, {\n    container: true,\n    rowSpacing: {\n      xs: 8,\n      sm: 9\n    },\n    sx: {\n      width: 1,\n      backgroundColor: '#222c31'\n    },\n    children: [/*#__PURE__*/_jsxDEV(Grid, {\n      item: true,\n      xs: 12,\n      children: /*#__PURE__*/_jsxDEV(Header, {\n        login: web3Handler,\n        balance: balance,\n        account: account\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(Grid, {\n      item: true,\n      xs: 12,\n      children: /*#__PURE__*/_jsxDEV(Routes, {\n        children: [/*#__PURE__*/_jsxDEV(Route, {\n          path: \"/Wallet\",\n          element: /*#__PURE__*/_jsxDEV(Wallet, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 40\n          }, this),\n          children: [/*#__PURE__*/_jsxDEV(Route, {\n            path: \"buyTokens\",\n            element: /*#__PURE__*/_jsxDEV(BuyTokens, {\n              account: account,\n              price: price\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 76,\n              columnNumber: 44\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: \"withdrawTokens\",\n            element: /*#__PURE__*/_jsxDEV(WithdrawTokens, {\n              balance: balance,\n              account: account,\n              price: price\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 77,\n              columnNumber: 49\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/games\",\n          element: /*#__PURE__*/_jsxDEV(Games, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 39\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/games/Roulette\",\n          element: /*#__PURE__*/_jsxDEV(RouletteGame, {\n            balance: balance,\n            account: account\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 48\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 69,\n    columnNumber: 5\n  }, this);\n};\n\n_s(App, \"+LCJJq3NBkSyn71+O94uEZFB89Q=\", false, function () {\n  return [useDispatch, useSelector, useSelector, useSelector];\n});\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useEffect","ethers","Grid","contractsService","useDispatch","useSelector","loadAccounts","loadBalance","loadPrice","loadHistorial","BuyTokens","WithdrawTokens","Header","Routes","Route","RouletteGame","Wallet","Games","App","dispatch","balance","account","price","web3Handler","accounts","window","ethereum","request","method","provider","providers","Web3Provider","signer","getSigner","on","chainId","location","reload","loadContracts","loadInfo","xs","sm","width","backgroundColor"],"sources":["D:/test/Decentralized-Crypto-Casino/src/App.js"],"sourcesContent":["import './App.css';\r\nimport React, { useEffect } from 'react';\r\nimport { ethers } from 'ethers';\r\nimport { Grid } from '@mui/material';\r\nimport contractsService from './services/contractsService';\r\nimport {useDispatch, useSelector } from \"react-redux\";\r\nimport { loadAccounts } from './reducers/accountReducer';\r\nimport { loadBalance } from './reducers/balanceReducer';\r\nimport { loadPrice } from './reducers/priceReducer';\r\nimport { loadHistorial } from './reducers/historialReducer';\r\nimport BuyTokens from './components/BuyTokens';\r\nimport WithdrawTokens from './components/Withdraw';\r\nimport Header from './components/Header';\r\nimport {\r\n  Routes,\r\n  Route,\r\n} from \"react-router-dom\"\r\n\r\nimport RouletteGame from './components/RouletteGame';\r\nimport Wallet from './components/Wallet';\r\nimport Games from './components/Games';\r\n\r\nconst App = () => {\r\n  const dispatch = useDispatch()\r\n  const balance = useSelector(({ balance }) => {\r\n    return balance;\r\n  });\r\n  const account = useSelector(({ account }) => {\r\n    return (\r\n      account\r\n    )\r\n  })\r\n\r\n  const price = useSelector(({ price }) => {\r\n    return price;\r\n  });\r\n\r\n  const web3Handler = async () => {\r\n    const accounts = await window.ethereum.request({ method: 'eth_requestAccounts' });\r\n    dispatch(loadAccounts(accounts[0]));\r\n    const provider = new ethers.providers.Web3Provider(window.ethereum);\r\n    const signer = provider.getSigner();\r\n\r\n    window.ethereum.on('chainChanged', (chainId) => {\r\n      window.location.reload();\r\n    })\r\n\r\n    window.ethereum.on('accountsChanged', async function (accounts) {\r\n      dispatch(loadAccounts(accounts[0]));\r\n      await web3Handler();\r\n    })\r\n    await contractsService.loadContracts(signer);\r\n  }\r\n\r\n  const loadInfo = async () => {\r\n    if (account !==\"\"){\r\n      await dispatch(loadBalance(account));\r\n      await dispatch(loadPrice(account));\r\n      await dispatch(loadHistorial(account))\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    loadInfo()\r\n}, [account])\r\n\r\n\r\n  return (\r\n    <Grid container rowSpacing={{ xs: 8, sm: 9 }} sx={{ width: 1, backgroundColor: '#222c31'}}>\r\n    <Grid item xs={12}>\r\n      <Header login={web3Handler} balance={balance} account={account}/>\r\n    </Grid>\r\n    <Grid item xs={12}>\r\n      <Routes>\r\n        <Route path=\"/Wallet\" element={<Wallet/>} > \r\n          <Route path=\"buyTokens\" element={<BuyTokens account={account} price={price} />} />\r\n          <Route path=\"withdrawTokens\" element={<WithdrawTokens balance={balance} account={account} price={price}/>} />\r\n        </Route>\r\n        <Route path=\"/games\" element={<Games/>}/>\r\n        <Route path=\"/games/Roulette\" element={<RouletteGame balance={balance} account={account} />} />\r\n      </Routes>\r\n      </Grid>\r\n      </Grid>\r\n  );\r\n}\r\n\r\nexport default App;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}